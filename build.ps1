#Remove-Item –path ./ –recurse

Invoke-WebRequest -Uri 'https://api.cloudmersive.com/dlp/v1/swagger.json' -OutFile '.\dlp-api-swagger.json'
(Get-Content .\dlp-api-swagger.json).replace('localhost', "api.cloudmersive.com") | Set-Content .\dlp-api-swagger.json
(Get-Content .\dlp-api-swagger.json).replace('"http"', '"https"') | Set-Content .\dlp-api-swagger.json

& java -jar swagger-codegen-cli-2.4.14.jar generate -i .\dlp-api-swagger.json -l go -c packageconfig.json
# $extrasetup = (Get-Content ./extrasetup.py) -join "`n"
# Write-Host $extrasetup
# (Get-Content ./setup.py).replace('# http://pypi.python.org/pypi/setuptools', $extrasetup) | Set-Content ./setup.py
# (Get-Content ./setup.py).replace('"""\', "long_description,`n    long_description_content_type='text/markdown'") | Set-Content ./setup.py
# (Get-Content ./setup.py).replace('The validation APIs help you validate data. Check if an E-mail address is real. Check if a domain is real. Check up on an IP address, and even where it is located. All this and much more is available in the validation API.  # noqa: E501', '') | Set-Content ./setup.py
# (Get-Content ./setup.py).replace('    """', '') | Set-Content ./setup.py
(Get-Content ./README.md).replace('This Python package is automatically generated by the [Swagger Codegen](https://github.com/swagger-api/swagger-codegen) project:', 'This Go package provides a native API client for [Cloudmersive DLP Detection API](https://cloudmersive.com/dlp-data-loss-prevention-api)') | Set-Content ./README.md
Write-Host "Done."